---
published: true
title: Systemd
tags: linux init system
---
> On every Unix system there is one process with the special process identifier 1. It is started by the kernel before all other processes and is the parent process for all those other processes that have nobody else to be child of. Due to that it can do a lot of stuff that other processes cannot do. And it is also responsible for some things that other processes are not responsible for, such as bringing up and maintaining userspace during boot. - [Rethinking PID 1](http://0pointer.net/blog/projects/systemd)

`systemctl status`

- `systemctl enable/disable` => service launch on host startup
- `systemctl start/stop` => immediate operation


## [State: degraded](https://unix.stackexchange.com/questions/447561/systemctl-status-shows-state-degraded)
- original issue caused by apparmor not starting - [How to disable AppArmor](https://www.simplified.guide/ubuntu/remove-apparmor)
{% highlight cpp %}
systemctl --failed => to list which services failed to start
{% endhighlight %}

## [Keep a process alive](https://superuser.com/questions/1119643/keep-a-process-alive-after-logging-out-from-local-not-ssh-session)
in _/etc/systemd/logind.conf_
{% highlight cpp %}
KillUserProcesses=no
{% endhighlight %}

## [Run script after wakeup?](https://unix.stackexchange.com/questions/152039/how-to-run-a-user-script-after-systemd-wakeup/492497#492497)

## [Update service definition](https://serverfault.com/questions/700862/do-systemd-unit-files-have-to-be-reloaded-when-modified)

{% highlight cpp %}
systemctl daemon-reload
systemctl restart your-service-name
{% endhighlight %}
