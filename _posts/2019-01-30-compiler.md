---
published: true
title: Compiler for free
tags: compiler parser ruby
---
> Programs that manipulate other programs are powerful, interesting and fun. Iâ€™ll use Ruby to take you on a tour of how interpreters and compilers work, introduce the ideas behind a technique called partial evaluation, and explain a surprising computer science result which allows compilers to be generated automatically. - [Codon](https://codon.com/compilers-for-free) / [\[HN\]](https://news.ycombinator.com/item?id=18994232)

- interpreter
- compiler
- partial evaluator
- [Futamura projections](https://en.wikipedia.org/wiki/Partial_evaluation)



- Why is it that 35 years after the Futamura projections were first described, when we want to produce a new compiler, we don't write an interpreter and pass it through a high quality, general partial evaluator?
	- As far as I know, it has been tried numerous times and has been an area of active research in the past, but results turned out unsuccessful.
		- TruffleRuby is a Ruby implementation that works exactly by writing an interpreting and passing it through a general partial evaluator. It's successful enough to pass almost all the Ruby spec and to run real Ruby applications including their C extensions.
        [TruffleRuby](https://github.com/oracle/truffleruby)

see also
- [Tower of interpreter]({% post_url 2018-08-10-tower-of-interpreter %})
- [Crafting Interpreters: A Review](https://news.ycombinator.com/item?id=31835818)
- [How I developed a faster Ruby interpreter](https://developers.redhat.com/articles/2022/11/22/how-i-developed-faster-ruby-interpreter#)
- [Lessons from Writing a Compiler](https://news.ycombinator.com/item?id=32100880)