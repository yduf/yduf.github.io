---
published: true
title: RAID-6
tags: raid nas
---
> Parity protection is a common technique for reliable data storage on mediums that may fail (HDDs, SSDs, storage servers, etc.) Calculation of parity uses tools from algebra in very interesting ways, in particular in the dual parity case. - [How RAID-6 dual parity calculation works](http://igoro.com/archive/how-raid-6-dual-parity-calculation-works/)

- [How to Choose the Best RAID Level for New Disk Array](https://www.stellarinfo.com/blog/how-to-choose-the-best-raid-level-for-new-disk-array/)

- [ZFS / RAIDZ Capacity Calculator](https://wintelguy.com/zfs-calc.pl)

## RAIDZ2 / RAID6

Fault-tolerant—can withstand up to any 2 disk failure from the array

[The minimum number of drives where RAID-Z2 makes sense is four](https://superuser.com/questions/1055145/how-many-drives-do-i-need-for-zfs-raid-z2/1058545#1058545)
, which gives you the effective storage capacity of two of the drives and allows losing any two of the drives. This is advantageous over using the same four drives in a 2x2 mirror setup, because if you have two mirror vdevs of two drives each and lose some combinations of two drives, that vdev is dead and takes the pool with it in its fiery demise.

If you want three drives ZFS, and want redundancy, set them up as a three-way mirror vdev.

- [RaidZ2 - 5 drives?](https://www.reddit.com/r/freenas/comments/bxozry/raidz2_5_drives/)

## [RAIDZ / RAID5]({% post_url 2019-01-01-SHR %})

Fault-tolerant — Can withstand up to any 1 drive failure in the array.

## [RAIDZ3](https://hardforum.com/threads/zfs-raid-z3-raidz3-recommended-drive-configuration.1621123/#post-1037485294)

4 and 5 disk RAID-Z3 pools seem small. 7 seems borderline (not much different than just going with RAID 1).

[The Solaris Internals Wiki](www.solarisinternals.com/wiki/index.php/ZFS_Best_Practices_Guide#RAIDZ_Configuration_Requirements_and_Recommendations) recommends that RAIDZ3 configurations should start with at least 8 drives (5+3)


## Note
- A resilver isn't more likely to kill an existing drive than a scrub. And the general advice is to do those semi regularly. - [HN](https://news.ycombinator.com/item?id=25360672)

- We (rsync.net) have several PB of raidz3 deployed all over the world. - [rsync](https://news.ycombinator.com/item?id=25360013) [HN](https://news.ycombinator.com/item?id=25358268) 
	- [You should use mirror vdevs, not RAIDZ](https://jrs-s.net/2015/02/06/zfs-you-should-use-mirror-vdevs-not-raidz/)