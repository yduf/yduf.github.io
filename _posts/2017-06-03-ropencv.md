---
published: true
tags: ruby opencv
title: Ruby Bindings for OpenCV (ropencv)
---
> Unlike other OpenCV ruby binding projects like `ruby-opencv` or `opencv-ffi` this binding is automatically generated by parsing the OpenCV C++ headers. - [D-Alex/ropencv](https://github.com/d-alex/ropencv)

[doc](http://www.rubydoc.info/gems/ropencv/0.0.7/OpenCV/)

## [Install](https://github.com/d-alex/ropencv#installation)

- [Install opencv librairies]({% post_url 2019-04-27-opencv %})
	- tested with [4.5.4](https://github.com/opencv/opencv/tree/4.5.4) / [releases](https://opencv.org/releases/) / [release notes](https://github.com/opencv/opencv/wiki/ChangeLog#version454)

{% highlight bash %}
$ VERSION=4.5.4 git clone https://github.com/opencv/opencv.git -b $VERSION --depth 1
{% endhighlight %}

- [Install Ruby]({% post_url 2019-05-29-ruby %}) - no need to `sudo` using rbenv
- prerequesite 
	- `sudo apt-get install ruby-dev`	- needed to compile native gem
	- set a [default python](https://stackoverflow.com/questions/68792446/how-to-set-python3-as-default) `update-alternatives --install  /usr/bin/python python /usr/bin/python3 1` 
		- it will be used to parse the c++ export define for python binding, and recreate the interface for ruby binding
- `gem install ropencv`

The last command will pick the opencv version installed and build binding to it.

### Test installation

Test some opencv call in ruby

{% highlight ruby %}
# Display Video stream from first camera
require 'ropencv'
include OpenCV

video_file = cv::VideoCapture.new( 0)
cv::namedWindow("edges",1)
frame = cv::Mat.new

while true do
	video_file.read( frame)
	cv::imshow("edges", frame)
	cv::wait_key( 1)
end
{% endhighlight %}

### Known issue
- [ trackbar not wrapped? #40 ](https://github.com/D-Alex/ropencv/issues/40)

### see also
- [How OpenCV-Python bindings are generated? ](https://docs.opencv.org/4.x/da/d49/tutorial_py_bindings_basics.html) - OpenCV generates these wrapper functions automatically from the C++ headers using some Python scripts which are located in modules/python/src2.