---
published: true
title: "How do I safely store my files? \U0001F4BD"
tags: backup rsync file system
toc: true
---
> People think they need backups while in fact they need restores… - [HN](https://news.ycombinator.com/item?id=29335990) / [HN](https://news.ycombinator.com/item?id=25902030)

# [Backup on Linux](https://chatgpt.com/share/68bbf0dc-dd54-800d-802c-a2ee47939c96)

<div style="
            
  border-left: 5px solid #43a047;  /* green */
  background: #e8f5e9;
            
  padding: 1rem;
  margin: 1rem 0;
  border-radius: 6px;
"  markdown="1" >

- For personal file backups: use [Pika](#pika-backup) (based on Borg)
- For system restore points: use [Timeshift](#timeshift).

</div>


## [Pika Backup](https://apps.gnome.org/PikaBackup/)

Pika Backup a relatively new but popular desktop-oriented backup tool for Linux, Built on [BorgBackup](#borg-backup) → so you get all the benefits of Borg (deduplication, compression, encryption, incremental backups).
- [We finally have a simple solution for backing up files on Linux](https://www.youtube.com/watch?v=W30wzKVwCHo)

### Features
- [Backup is browsable](https://www.youtube.com/watch?v=W30wzKVwCHo&t=416s) - they are mounted in the filesystem
	- files can be restored individually easily
    
### Configuration
- installed borg tools on NAS -> this was a mistake
	- need to have ssh access anyway => redirect to borg user
    - pika/borg is picky on .ssh/* ownership and won't run if unsecure
    - add user key, to be able to operate as `borg` user on remote

Borg tools only require [ssh access]({% post_url 2019-04-29-ssh %}) (so it's not clear why it could be usefull to add it on the server). It boils down:
- create a `borg` user -> this is strictly unecessary
	- restrict its access -> no interactive shell
    - connect through ssh public key
    - own the backup folder -> the regular user could own it
    	- since it's bettere to have [multi user, separate repository](https://chatgpt.com/share/68bc1040-5800-800d-8891-b6b057602d6c)

## [TimeShift](https://github.com/linuxmint/timeshift?tab=readme-ov-file#timeshift)

Timeshift for Linux is an application that provides functionality similar to the System Restore feature in Windows and the Time Machine tool in Mac OS. Timeshift protects your system by taking incremental snapshots of the file system at regular intervals. These snapshots can be restored at a later date to undo all changes to the system.

## Borg Backup
 > Restic is borg with more whistles (backing up to various places), but borg is the more trusted tool with the longer history (just use SSH and be done with it).  - [HN](https://news.ycombinator.com/item?id=21410833)

- [Borg Documentation](https://borgbackup.readthedocs.io/en/stable/)

## [OSTree](https://ostree.readthedocs.io/en/latest/manual/introduction/)
> [OSTree](https://ostree.readthedocs.io/en/latest/manual/introduction/) operates at the Unix filesystem layer, it works on top of any filesystem or block storage layout; it's possible to replicate a given filesystem tree from an OSTree repository into plain ext4, BTRFS, XFS, or in general any Unix-compatible filesystem that supports hard links. - [HN](https://news.ycombinator.com/item?id=21411173)
