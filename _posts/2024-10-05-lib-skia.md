---
title: Skia Graphics Engine
published: true
tags: image-lib opengl
---
> Skia does one thing really well, 2D graphics.  
> The original “Skia” was the development name for QuickDraw GX.  This Skia—which, again, doesn’t share code with either of its predecessors—is a kind of version 3, with a tribute name back to that original Skia. - [HN](https://news.ycombinator.com/item?id=16146869) / [wikipedia](https://en.wikipedia.org/wiki/Skia_Graphics_Engine)

- [Skia vs Cairo vs Direct2D, which is the most feature rich?](https://stackoverflow.com/questions/46526178/skia-vs-cairo-vs-direct2d-which-is-the-most-feature-rich)
	-  It is far not that trivial to integrate Skia with existing 3D OpenGL code. Even Skia can work with OpenGL backend it changes state of OpenGL device and that creates problems.



### [Overview](https://skia.org/docs/user/api/)

### see also
- [Drawing with SkiaSharp & OpenGL ](https://swharden.com/csdv/skiasharp/skiasharp-opengl/)


### [Setup](https://chatgpt.com/share/670265a5-5000-800d-89ce-4d0e71d31ecd)
- [Introducing to SKIA with C++](https://www.youtube.com/watch?v=lEj_GfH8is8&t=78s)

Skia doesn't seems to be already available as binary and you need to compile it yourself.

One way is to use [chromium depot_tools](https://chatgpt.com/share/6701ad96-a488-800d-a7de-7286358d807d)

Procedure doesn't install `gn` tools, one easy way is to build it directly.
see [gn](https://gn.googlesource.com/gn).

Here is a a detail procedure

**Install Depot Tools**
{% highlight bash %}
# Clone Depot Tools
$ git clone https://chromium.googlesource.com/chromium/tools/depot_tools.git

# Set Environment Variables
$ export PATH="$PATH:/path/to/depot_tools"
{% endhighlight %}

**Build gn binary**
May require clang to be installed
{% highlight bash %}
$ git clone https://gn.googlesource.com/gn
$ cd gn
$ python build/gen.py # --allow-warning if you want to build with warnings.
$ ninja -C out
# To run tests:
$ out/gn_unittests
{% endhighlight %}

**Build skia**
{% highlight bash %}
# go back to your project directory
# Fetch Skia Source Code
$ gclient config --name=skia https://skia.googlesource.com/skia.git
$ gclient sync

# link gn where it belongs
$ mkdir -p skia/buildtools/linux64
$ cd skia/buildtools/linux64
$ ln -s <path to gn>/out/gn .
$ cd -

# The next command may failed silently when gn is not present: normal output is build.ninja file
# different flags combination can be used
# gn gen out/Release --args='is_debug=false'
# gn gen out/Release --args='is_official_build=true is_debug=false skia_use_gl=true skia_use_expat=true skia_use_libpng=true skia_use_zlib=true'
$ gn gen out/Release --args='is_official_build=true is_debug=false skia_use_gl=true'
  
# if everything is ok, you now have a build.ninja
# launch compile and go for a coffee
$ ninja -C out/Release skia 

# You should see built files and libraries related to Skia.
$ ls out/Release
{% endhighlight %}

  
### [Adding Skia to a meson project](https://chatgpt.com/share/67026261-7edc-800d-b631-8598820a27cc)

{% highlight meson %}
project('my_project', 'cpp')

# Step 1: Locate Skia
skia_inc_dir = '/path/to/skia/include'
skia_lib_dir = '/path/to/skia/out/Release'

# Step 2: Declare Skia dependency manually
skia_dep = declare_dependency(
  include_directories: [skia_inc_dir],
  link_args: [
    skia_lib_dir + '/libskia.a',  # Link to the built static library
    skia_lib_dir + '/libskshaper.a',  # Other Skia modules if necessary
  ],
  dependencies: [
    dependency('freetype2'),  # Skia uses freetype for font rendering
    dependency('fontconfig', required: false),  # Optional, based on your needs
    # Add more system dependencies here if Skia needs them (e.g., icu, harfbuzz)
  ]
)

# Step 3: Your source files
executable(
  'my_executable',
  sources: ['main.cpp'],
  dependencies: [skia_dep],
  install: true
)
{% endhighlight %}
