---
published: true
title: 'Clean: Which folder takes most space (ncdu)?'
tags: system disk cli shell clean
---
> [NCurses Disk Usage (ncdu)](https://dev.yorhel.nl/ncdu) / [dutree](https://ownyourbits.com/2018/03/25/analyze-disk-usage-with-dutree/)

alias from [CLI: improved](https://remysharp.com/2018/08/23/cli-improved#ncdu--du)

{% highlight bash %}
alias du="ncdu --color dark -rr -x --exclude .git --exclude node_modules"
{% endhighlight %}

### [How to Exclude a Specific Directory](https://stackoverflow.com/questions/57433340/how-to-exclude-a-specific-directory-in-ncdu-command)

{% highlight bash %}
ncdu -x / --exclude /home/
{% endhighlight %}



## [du](https://stackoverflow.com/a/43736932/51386) 

{% highlight bash %}
$ du -sh backup-lr-May-02-2017-1493723588.tar.gz

-s, --summarize
            display only a total for each argument
-h, --human-readable
            print sizes in human readable format (e.g., 1K 234M 2G)
{% endhighlight %}

## Cleaning

### Trash
- [~/.local/share/Trash/expunged](https://askubuntu.com/questions/1297828/what-are-the-contents-of-contents-of-local-share-trash-expunged)

### [Systemd Journal Logs](https://linuxhandbook.com/clear-systemd-journal-logs/)


### [Docker](https://devopsheaven.com/docker/volumes/purge/devops/2018/05/25/purge-docker-images-containers-networks-volumes.html)

{% highlight bash %}
$ docker system prune -a  --volumes
{% endhighlight %}

### [dpkg: How to purge previously only removed packages?](https://askubuntu.com/questions/687295/how-to-purge-previously-only-removed-packages)

{% highlight bash %}
$ dpkg --get-selections | awk '$2 == "deinstall" {print $1}' | xargs sudo apt-get purge --dry-run
{% endhighlight %}

## [linux disk utilization statistics, i want to track last 30 day logs growth](https://unix.stackexchange.com/questions/600790/linux-disk-utilization-statistics-i-want-to-track-last-30-day-logs-growth)

{% highlight bash %}
#/bin/sh
echo `date -I`  `du -sh /home/$USER` >> /home/$USER/disk.usage
{% endhighlight %}
