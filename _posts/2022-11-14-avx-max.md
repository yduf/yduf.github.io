---
published: true
title: Compute Max (AVX)
tags: avx c++ math
---
> If you find yourself needing to do horizontal operations on vectors, especially if it's inside an inner loop, then it's usually a sign that you are approaching your SIMD implementation in the wrong way. SIMD likes to operate element-wise on vectors - "vertically" if you like, not horizontally. - [SO](https://stackoverflow.com/a/9878321/51386)

In general for any kind of vector horizontal reduction, extract / shuffle high half to line up with low, then vertical add (or min/max/or/and/xor/multiply/whatever); repeat until a there's just a single element (with high garbage in the rest of the vector). - [Peter Cordes](https://stackoverflow.com/a/35270026/51386)
